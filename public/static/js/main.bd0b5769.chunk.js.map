{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/Input.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","id","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","e","style","backgroundImage","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","key","Footer","PopupWithForm","isOpen","onClose","title","children","button","onSubmit","useEffect","document","querySelector","reset","isActive","type","Input","placeholder","maxLength","minLength","onChange","defaultValue","parentRef","ref","required","EditProfilePopup","onUpdateUser","useState","setName","setAbout","preventDefault","target","value","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","AddPlacePopup","onAddCard","setLink","ImagePopup","api","baseUrl","headers","this","_baseUrl","_headers","Promise","all","getUserInfo","getCardList","fetch","then","res","ok","json","reject","statusText","method","body","JSON","stringify","cardId","like","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeletePlacePopupOpen","setDeletePlacePopupOpen","isFullViewOpen","setFullViewOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","parentElement","stopPropagation","newName","newAbout","setUserInfo","newAvatar","setUserAvatar","cardName","cardLink","addCard","removeCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.bd0b5769.chunk.js","sourcesContent":["import React from 'react';\nimport logoPath from '../images/logo.svg';\n\nexport default  function Header() {\n    return (\n        <header className=\"header\">\n                <img src={logoPath} alt=\"Logo\" className=\"header__logo\"/>\n        </header>\n    )\n}","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nexport default function Card({card, id, onCardClick, onCardLike, onCardDelete}) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = card.owner._id === currentUser._id;\n\n    const cardDeleteButtonClassName = (\n  `post__remove ${isOwn ? '' : 'post__remove_disabled'}`\n    ); \n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const cardLikeButtonClassName = (\n        `button post__like ${isLiked ? 'post__like_liked' : ''}`\n          ); ;\n    \n    const handleClick = (e) => {\n        onCardClick(card);\n    };\n\n    const handleLike = (e) => {\n        onCardLike(card);\n    };\n\n    return(\n        <li className=\"post\" id={id}>\n            <div className=\"post__image\" onClick={handleClick} style={{ backgroundImage: `url(${card.link})` }}>\n                <button className={cardDeleteButtonClassName} onClick={onCardDelete}></button>\n            </div>\n            <div className=\"post__info\">\n                <p className=\"post__caption\">{card.name}</p>\n                <div className=\"post__likes\">\n                    <button className={cardLikeButtonClassName} onClick={handleLike}></button>\n                    <p className=\"post__like-count\">{card.likes.length}</p>\n                </div>\n            </div>\n        </li>\n    )\n} ","import React from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__main\">\n                    <div onClick={onEditAvatar} className=\"profile__userpic\">\n                        <img alt=\"Userpic\" className=\"profile__pic\" src={currentUser.avatar}/>\n                    </div>\n                    <div className=\"profile__text\">\n                        <div className=\"profile__name\">\n                        <h1 className=\"profile__username\">{currentUser.name}</h1>\n                            <button className=\"button profile__edit-btn\" onClick={onEditProfile}></button>\n                        </div>\n                        <p className=\"profile__bio\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button className=\"button profile__add-btn\" onClick={onAddPlace}></button>\n            </section>\n            <section className=\"photo-grid\">\n                <ul className=\"photo-grid__posts\">\n                    {cards.map((card, i) => {\n                        return <Card key = {i} \n                                    id = {i}\n                                    card={card} \n                                    onCardLike={onCardLike}\n                                    onCardDelete={onCardDelete}\n                                    onCardClick={(card) => {\n                                        onCardClick(card);\n                          }}/>\n                    })}\n                </ul>\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from 'react';\n\nexport default function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">Â© 2020 Dasha Borisenko-Orlowski</p>\n        </footer>\n    )\n}","import React from 'react';\n\nexport default function PopupWithForm({isOpen, name, onClose, title, children, button, onSubmit}) {\n\n    React.useEffect(() => {\n        document.querySelector(`.modal_goal_${name}`).reset();\n    }, [isOpen]);\n    \n    const isActive = isOpen ? \"modal__container_active\" : \"\";\n    return (\n        <div className={`modal__container ${isActive} modal__container_type_${name}`}>\n            <button className=\"button modal__close-btn\" type=\"reset\" onClick={onClose}></button>\n            <form className={`modal modal_type_form modal_goal_${name}`} onSubmit={onSubmit}>\n            <h2 className=\"modal__title\">{title}</h2>\n            <fieldset className=\"modal__fieldset\">\n                {children}\n            </fieldset>\n            <button type=\"submit\" className=\"button modal__save-btn\">{button}</button>\n            </form>\n        </div>\n    )\n}","import React from 'react';\n\nconst Input = ({type, id, placeholder, maxLength, minLength, onChange, defaultValue, parentRef}) => {\n    return (\n        <>\n        <input ref={parentRef} type={type} id={id} className=\"modal__input\" placeholder={placeholder} required maxLength={maxLength} minLength ={minLength} defaultValue={defaultValue} onChange={onChange}/>\n        <span id={`error-${id}`} className=\"modal__error\"></span>\n        </>\n    )\n}\n\n\nexport default Input;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'; \nimport Input from './Input';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\n\nexport default function EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [about, setAbout] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n      }\n    \n    function handleChangeAbout(e) {\n        setAbout(e.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setAbout(currentUser.about);\n    }, [currentUser]); \n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser(name, about, currentUser.avatar);\n    }\n\n    return (\n        <PopupWithForm name=\"update\" title=\"Edit profile\" button=\"Save\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n              <Input type=\"text\" id=\"username\" className=\"modal__input\" placeholder=\"Name\" maxLength= \"40\" minLength=\"2\" defaultValue={name} onChange={handleChangeName}/>\n              <Input type=\"text\" id=\"about\" className=\"modal__input\" placeholder=\"Who are you?\" maxLength=\"200\" minLength=\"2\" defaultValue={about} onChange={handleChangeAbout}/>\n          </PopupWithForm>\n    )\n}","import React from 'react';\nimport PopupWithForm from './PopupWithForm'; \nimport Input from './Input';\n\nexport default function EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n    const avatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();  \n        onUpdateAvatar(avatarRef.current.value);\n      } \n    \n    return (\n        <PopupWithForm name=\"avatar\" title=\"Change profile picture\" button=\"Update\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n              <Input parentRef={avatarRef} type=\"url\" placeholder=\"Image URL\" id=\"avatar\" className=\"modal__input\" required/>\n        </PopupWithForm>\n    )\n}","import React from 'react';\nimport PopupWithForm from './PopupWithForm'; \nimport Input from './Input';\n\nexport default function AddPlacePopup({isOpen, onClose, onAddCard}) {\n    const [name, setName] = React.useState('');\n    const [link, setLink] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n      }\n    \n    function handleChangeLink(e) {\n        setLink(e.target.value);\n    }\n\n    function handlePlaceSubmit(e) {\n        e.preventDefault();\n        onAddCard(name, link);\n    }\n    return (\n        <PopupWithForm name=\"create\" title=\"New Place\" button=\"Create\" isOpen={isOpen} onClose={onClose} onSubmit={handlePlaceSubmit}>\n            <Input type=\"text\" placeholder=\"Title\" id=\"name\" className=\"modal__input\" required maxLength=\"30\" minLength=\"1\" onChange={handleChangeName}/>\n            <Input type=\"url\" placeholder=\"Image URL\" id=\"link\" className=\"modal__input\" required onChange={handleChangeLink}/>\n        </PopupWithForm>\n    )\n}","import React from 'react';\n\nexport default function ImagePopup({card, isOpen, onClose}) {\n    return (\n        <div className={`modal__container ${isOpen ? \"modal__container_active\" : \"\"} modal__container_type_view`}>\n            <div className=\"modal modal_type_view\">\n                <button className=\"button modal__close-btn modal__close-btn_type_view\" type=\"reset\" onClick={onClose}></button>\n            <img className=\"modal__fullview\" src={card.link} alt={card.name}/>\n            <p className=\"modal__caption\">{card.name}</p>\n            </div>\n        </div>\n    )\n}","class Api {\n    constructor({baseUrl, headers}) {\n      this._baseUrl = baseUrl;\n      this._headers = headers;\n    }\n\n    getAppInfo() {\n        return Promise.all([this.getUserInfo(), this.getCardList()]);\n    }\n    //GET https://around.nomoreparties.co/v1/groupId/cards\n    getCardList() {\n        return fetch(this._baseUrl + '/cards', {\n            headers: this._headers\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\n    }\n\n    //GET https://around.nomoreparties.co/v1/groupId/users/me\n    getUserInfo() {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: this._headers\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error! ' + res.statusText))\n    }\n\n    //POST https://around.nomoreparties.co/v1/groupId/cards\n    addCard({name, link}) {\n        return fetch(this._baseUrl + '/cards', {\n            headers: this._headers,\n            method: \"POST\",\n            body: JSON.stringify({\n                name,\n                link\n            })\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error! ' + res.statusText))\n    }\n\n    //DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n    removeCard(cardId) {\n        return fetch(this._baseUrl + '/cards/' + cardId, {\n            headers: this._headers,\n            method: \"DELETE\"\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error! ' + res.statusText))\n    }\n\n    //PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n    changeLikeCardStatus(cardId, like) {\n        return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n            headers: this._headers,\n            method: like ? \"PUT\" : \"DELETE\"\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error! ' + res.statusText))\n    }\n\n\n    //PATCH https://around.nomoreparties.co/v1/groupId/users/me\n    setUserInfo({name, about}) {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify({\n                name,\n                about\n            })\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error! ' + res.statusText))\n    }\n\n    //PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n    setUserAvatar({avatar}) {\n        return fetch(this._baseUrl + '/users/me/avatar', {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify({\n                avatar\n            })\n        })\n        .then(res => res.ok ? res.json() : Promise.reject('Error! ' + res.statusText))\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://around.nomoreparties.co/v1/group-3',\n    headers: {\n      authorization: \"72f35e11-165d-430a-b739-20a2fba93ad3\",\n      \"Content-Type\": \"application/json\"\n    }\n});\n\nexport default api;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nexport default function App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isDeletePlacePopupOpen, setDeletePlacePopupOpen] = React.useState(false);\n  const [isFullViewOpen, setFullViewOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '', \n    about: '', \n    avatar: ''});\n\n  React.useEffect(() => {\n    api.getUserInfo()\n    .then((res) => {\n        setCurrentUser(res);\n    })\n    .catch(err => console.log(err))\n}, []);\n\n  React.useEffect(() => {\n    api.getCardList()\n    .then((res) => {\n        setCards(res);\n    })\n    .catch(err => console.log(err))\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(e) {\n    e.preventDefault();\n    api.removeCard(selectedCard._id)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== selectedCard._id);\n      setCards(newCards);\n      setDeletePlacePopupOpen(false);\n    })\n    .catch(err => console.log(err));\n  }\n\n  const onEditProfile=() => {\n    setEditProfilePopupOpen(true);\n  }\n  const onAddPlace=() => {\n    setAddPlacePopupOpen(true);\n  }\n  const onEditAvatar=() => {\n    setEditAvatarPopupOpen(true);\n  }\n  const onCardDelete=(e) => {\n    setSelectedCard(cards[e.target.parentElement.parentElement.id]);\n    e.stopPropagation();\n    setDeletePlacePopupOpen(true);\n  }\n  const onCardClick=(card) => {\n    setSelectedCard(card);\n    setFullViewOpen(true);\n  }\n  const handleUpdateUser=(newName, newAbout) => {\n    api.setUserInfo({name: newName, about: newAbout})\n    .then((res) => {\n      setCurrentUser({...currentUser, name: res.name, about: res.about});\n      setEditProfilePopupOpen(false);\n    })\n    .catch(err => console.log(err));\n  }\n\n  const handleUpdateAvatar=(newAvatar) => {\n    api.setUserAvatar({avatar: newAvatar})\n    .then((res) => {\n      setCurrentUser({...currentUser, avatar: res.avatar});\n      setEditAvatarPopupOpen(false);\n    })\n    .catch(err => console.log(err));\n  }\n\n  const handleAddPlace=(cardName, cardLink) => {\n    const newCard = {name: cardName, link: cardLink};\n    api.addCard(newCard)\n    .then((res) => {\n      setCards([res, ...cards]); \n      setAddPlacePopupOpen(false);\n    })\n    .catch(err => console.log(err));\n  } \n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile = {onEditProfile}\n          onAddPlace = {onAddPlace}\n          onEditAvatar = {onEditAvatar}\n          onCardClick = {onCardClick}\n          cards={cards}\n          onCardLike = {handleCardLike}\n          onCardDelete = {onCardDelete}\n        />\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={() => {setEditProfilePopupOpen(false)}} onUpdateUser={handleUpdateUser}/>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={() => {setEditAvatarPopupOpen(false)}} onUpdateAvatar={handleUpdateAvatar}/> \n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={() => {setAddPlacePopupOpen(false)}} onAddCard={handleAddPlace}/>\n        <PopupWithForm name=\"delete\" title=\"Are you sure?\" button=\"Yes\" isOpen={isDeletePlacePopupOpen} onClose={() => {setDeletePlacePopupOpen(false)}} onSubmit={handleCardDelete}/>\n        <ImagePopup card={selectedCard} isOpen={isFullViewOpen} onClose={() => {setFullViewOpen(false)}}/>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.8f7611ae.svg\";"],"sourceRoot":""}